<div class="container mt-4">
  <h2>コミュニティ一覧</h2>

  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>コミュニティ名</th>
        <th>オーナー</th>
        <th>作成日</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <% @communities.each do |community| %>
        <tr>
          <td><%= community.id %></td>
          <td><%= community.name %></td>
          <td><%= community.owner&.name || "不明" %></td>

          <td><%= community.created_at.strftime("%Y-%m-%d %H:%M") %></td>

          <td>
            <%= link_to "詳細",
              admin_community_path(community),
              class: "btn btn-sm btn-outline-primary me-2" %>

            <%= link_to "削除",
              admin_community_path(community),
              method: :delete,
              data: { confirm: "本当に削除しますか？トピックやコメントも削除されます。" },
              class: "btn btn-sm btn-outline-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
